(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19ddf030"],{"0bf6":function(e,t,s){},"1cd2":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-header",[s("h1",{staticClass:"titlesytle"},[e._v("主观题批改")])]),s("el-main",[e._l(e.allAnswers,function(t){return s("div",{key:t.answerPrimaryKey.question.id},[s("div",[s("h4",[e._v("\n                        问题: "+e._s(t.answerPrimaryKey.question.question)+"\n                    ")]),s("h4",[e._v("\n                        分值: "+e._s(t.score)+"\n                    ")]),s("p",[e._v("\n                        回答: "+e._s(t.answer)+"\n                    ")])]),e._l(t.imageUrl,function(t){return s("div",{key:t},[t?s("img",{staticClass:"avatar",attrs:{src:"http://202.120.40.8:30382/online-edu/static/"+t+"?a="+Math.random()}}):e._e()])}),s("div",{staticStyle:{width:"60%"}},[s("el-input",{attrs:{type:"number",placeholder:"请输入分数"},model:{value:t.grade,callback:function(s){e.$set(t,"grade",s)},expression:"question.grade"}}),s("el-input",{attrs:{type:"textarea",placeholder:"请输入评语"},model:{value:t.comment,callback:function(s){e.$set(t,"comment",s)},expression:"question.comment"}})],1)],2)}),s("el-button",{staticStyle:{"margin-top":"20px"},on:{click:e.submitComments}},[e._v("提交")])],2)],1)},n=[],a={name:"TeacherCorrectSub",data:function(){return{allAnswers:[],getQuestionNum:[]}},methods:{showAllAnswers:function(){var e=[];e=this.$store.getters.getPaperAnswers.answers;var t=[];t=this.$store.getters.getPaperAnswers.paperAnswerPrimaryKey.paper.questions;for(var s=0;s<e.length;s++)"SUBJECTIVE"===e[s].answerPrimaryKey.question.questionType&&this.allAnswers.push(e[s]);for(var r=0;r<t.length;r++)"SUBJECTIVE"===t[r].paperWithQuestionsPrimaryKey.question.questionType&&this.getQuestionNum.push(t[r]);for(var n=this.allAnswers.length,a=this.getQuestionNum.length,i=0;i<n;i++)for(var o=0;o<a;o++)this.allAnswers[i].answerPrimaryKey.question.id===this.getQuestionNum[o].paperWithQuestionsPrimaryKey.question.id&&(this.allAnswers[i].score=this.getQuestionNum[o].score);console.log(this.allAnswers)},submitComments:function(){for(var e=[],t=0;t<this.allAnswers.length;t++){var s={comment:this.allAnswers[t].comment,questionId:this.allAnswers[t].answerPrimaryKey.question.id,score:this.allAnswers[t].grade};e.push(s)}this.$http.request({url:"/api/courses/"+this.$store.getters.getCourseId+"/papers/"+this.$store.getters.getPaperId+"/answer/mark/"+this.$store.state.course.studentSelectId+"/"+this.$store.getters.getPaperAnswers.paperAnswerPrimaryKey.times,method:"put",headers:this.$store.getters.authRequestHead,data:e}).then(function(e){console.log(e.data),alert("请求成功")}).catch(function(e){console.log(e.response),alert("请求失败")})}},mounted:function(){this.showAllAnswers()}},i=a,o=(s("4117"),s("2877")),l=Object(o["a"])(i,r,n,!1,null,"45bf9118",null);t["default"]=l.exports},4117:function(e,t,s){"use strict";var r=s("0bf6"),n=s.n(r);n.a}}]);
//# sourceMappingURL=chunk-19ddf030.49a1515a.js.map