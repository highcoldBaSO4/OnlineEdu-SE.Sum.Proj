{"version":3,"sources":["webpack:///./src/modules/index/views/TeacherCourseDetail.vue?9c7a","webpack:///src/modules/index/views/TeacherCourseDetail.vue","webpack:///./src/modules/index/views/TeacherCourseDetail.vue?96ea","webpack:///./src/modules/index/views/TeacherCourseDetail.vue?aa4d","webpack:///./src/modules/index/views/TeacherCourseDetail.vue?67b0"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","action","uploadUrl","headers","uploadHeader","show-file-list","before-upload","beforeAvatarUpload","on-success","uploadSucceed","on-error","uploadFail","http-request","uploadProcess","src","imageURL","_s","CourseForm","courseTitle","teacher","username","startDate","endDate","location","_l","timeslot","key","id","day","start","end","state","on","click","showEditDialog","title","visible","courseDialogVisible","lock-scroll","top","update:visible","$event","ref","model","editForm","label-width","label","type","value","callback","$$v","$set","expression","span","staticStyle","width","placeholder","value-format","index","rules","required","message","trigger","item","picker-options","step","preventDefault","removeTimeslot","addTimeslot","dialogStatus","_e","slot","nativeOn","updateData","staticRenderFns","TeacherCourseDetailvue_type_script_lang_js_","name","data","$store","getters","getCourseInfo","courseTeacher","courseState","timeSlots","getCourseImg","options","methods","file","console","log","isLt2M","size","$message","error","param","formData","FormData","append","$http","request","url","getCourseId","method","Authorization","user","accessToken","Content-Type","then","response","alert","catch","filelist","Object","assign","that","authRequestHead","dialogFormVisible","indexOf","splice","push","views_TeacherCourseDetailvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TeacherCourseDetail_vue_vue_type_style_index_0_id_41e7cfc0_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TeacherCourseDetail_vue_vue_type_style_index_0_id_41e7cfc0_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"yHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,aAAAA,EAAA,MAA0CE,YAAA,cAAyB,CAAAN,EAAAO,GAAA,YAAAH,EAAA,WAAAA,EAAA,OAA6CE,YAAA,aAAwB,CAAAF,EAAA,aAAkBE,YAAA,yBAAAE,MAAA,CAA4CC,OAAAT,EAAAU,UAAAC,QAAAX,EAAAY,aAAAC,kBAAA,EAAAC,gBAAAd,EAAAe,mBAAAC,aAAAhB,EAAAiB,cAAAC,WAAAlB,EAAAmB,WAAAC,eAAApB,EAAAqB,gBAA2M,CAAArB,EAAA,SAAAI,EAAA,OAA2BE,YAAA,SAAAE,MAAA,CAA4Bc,IAAAtB,EAAAuB,YAAoBnB,EAAA,KAAUE,YAAA,yCAAgD,GAAAF,EAAA,OAAkBE,YAAA,aAAwB,CAAAF,EAAA,KAAAJ,EAAAO,GAAA,qDAAAH,EAAA,QAAiFE,YAAA,UAAqB,CAAAN,EAAAO,GAAA,6BAAAP,EAAAwB,GAAAxB,EAAAyB,WAAAC,aAAA,8BAAAtB,EAAA,KAAAJ,EAAAO,GAAA,qDAAAH,EAAA,QAAsLE,YAAA,UAAqB,CAAAN,EAAAO,GAAA,6BAAAP,EAAAwB,GAAAxB,EAAAyB,WAAAE,QAAAC,UAAA,8BAAAxB,EAAA,KAAAJ,EAAAO,GAAA,qDAAAH,EAAA,QAA2LE,YAAA,UAAqB,CAAAN,EAAAO,GAAA,6BAAAP,EAAAwB,GAAAxB,EAAAyB,WAAAI,WAAA,MAAA7B,EAAAwB,GAAAxB,EAAAyB,WAAAK,SAAA,8BAAA1B,EAAA,KAAAJ,EAAAO,GAAA,qDAAAH,EAAA,QAAyNE,YAAA,UAAqB,CAAAN,EAAAO,GAAA,6BAAAP,EAAAwB,GAAAxB,EAAAyB,WAAAM,UAAA,8BAAA/B,EAAAgC,GAAAhC,EAAAyB,WAAA,mBAAAQ,GAAyJ,OAAA7B,EAAA,OAAiB8B,IAAAD,EAAAE,IAAgB,CAAA/B,EAAA,KAAAJ,EAAAO,GAAA,6DAAAH,EAAA,QAAyFE,YAAA,UAAqB,CAAAN,EAAAO,GAAA,iCAAAP,EAAAwB,GAAAS,EAAAG,KAAA,KAAApC,EAAAwB,GAAAS,EAAAI,OAAA,IAAArC,EAAAwB,GAAAS,EAAAK,KAAA,sCAAwJlC,EAAA,KAAAJ,EAAAO,GAAA,qDAAAH,EAAA,QAAiFE,YAAA,UAAqB,CAAAN,EAAAO,GAAA,6BAAAP,EAAAwB,GAAAxB,EAAAyB,WAAAc,OAAA,8BAAAnC,EAAA,aAAiHoC,GAAA,CAAIC,MAAAzC,EAAA0C,iBAA4B,CAAA1C,EAAAO,GAAA,gBAAAH,EAAA,aAAyCI,MAAA,CAAOmC,MAAA,SAAAC,QAAA5C,EAAA6C,oBAAAC,eAAA,EAAAC,IAAA,MAAkFP,GAAA,CAAKQ,iBAAA,SAAAC,GAAkCjD,EAAA6C,oBAAAI,KAAiC,CAAA7C,EAAA,WAAgB8C,IAAA,WAAA1C,MAAA,CAAsB2C,MAAAnD,EAAAoD,SAAAC,cAAA,SAA2C,CAAAjD,EAAA,gBAAqBI,MAAA,CAAO8C,MAAA,QAAe,CAAAlD,EAAA,YAAiBI,MAAA,CAAO+C,KAAA,QAAcJ,MAAA,CAAQK,MAAAxD,EAAAoD,SAAA,YAAAK,SAAA,SAAAC,GAA0D1D,EAAA2D,KAAA3D,EAAAoD,SAAA,cAAAM,IAA2CE,WAAA,2BAAoC,GAAAxD,EAAA,gBAAyBI,MAAA,CAAO8C,MAAA,SAAgB,CAAAlD,EAAA,UAAeI,MAAA,CAAOqD,KAAA,KAAW,CAAAzD,EAAA,kBAAuB0D,YAAA,CAAaC,MAAA,QAAevD,MAAA,CAAQwD,YAAA,SAAAT,KAAA,OAAAU,eAAA,uBAA0Ed,MAAA,CAAQK,MAAAxD,EAAAoD,SAAA,UAAAK,SAAA,SAAAC,GAAwD1D,EAAA2D,KAAA3D,EAAAoD,SAAA,YAAAM,IAAyCE,WAAA,yBAAkC,GAAAxD,EAAA,UAAmBE,YAAA,OAAAE,MAAA,CAA0BqD,KAAA,IAAU,CAAA7D,EAAAO,GAAA,OAAAH,EAAA,UAA6BI,MAAA,CAAOqD,KAAA,KAAW,CAAAzD,EAAA,kBAAuB0D,YAAA,CAAaC,MAAA,QAAevD,MAAA,CAAQwD,YAAA,SAAAT,KAAA,OAAAU,eAAA,uBAA0Ed,MAAA,CAAQK,MAAAxD,EAAAoD,SAAA,QAAAK,SAAA,SAAAC,GAAsD1D,EAAA2D,KAAA3D,EAAAoD,SAAA,UAAAM,IAAuCE,WAAA,uBAAgC,OAAAxD,EAAA,gBAA6BI,MAAA,CAAO8C,MAAA,OAActD,EAAAgC,GAAAhC,EAAAoD,SAAA,mBAAAnB,EAAAiC,GAA0D,OAAA9D,EAAA,gBAA0B8B,IAAAD,EAAAG,IAAA5B,MAAA,CAAwB8C,MAAA,OAAAY,EAAA,GAAAC,MAAA,CAAiCC,UAAA,EAAAC,QAAA,SAAAC,QAAA,UAAqD,CAAAlE,EAAA,aAAkBI,MAAA,CAAOwD,YAAA,OAAoBb,MAAA,CAAQK,MAAAvB,EAAA,IAAAwB,SAAA,SAAAC,GAA8C1D,EAAA2D,KAAA1B,EAAA,MAAAyB,IAA+BE,WAAA,iBAA4B5D,EAAAgC,GAAAhC,EAAA,iBAAAuE,GAAqC,OAAAnE,EAAA,aAAuB8B,IAAAqC,EAAAf,MAAAhD,MAAA,CAAsB8C,MAAAiB,EAAAjB,MAAAE,MAAAe,EAAAf,WAAyC,GAAApD,EAAA,kBAA0BI,MAAA,CAAOgE,iBAAA,CAAkBnC,MAAA,QAAAoC,KAAA,QAAAnC,IAAA,SAA0C0B,YAAA,UAAwBb,MAAA,CAAQK,MAAAvB,EAAA,MAAAwB,SAAA,SAAAC,GAAgD1D,EAAA2D,KAAA1B,EAAA,QAAAyB,IAAiCE,WAAA,oBAA8BxD,EAAA,kBAAuBI,MAAA,CAAOgE,iBAAA,CAAkBnC,MAAA,QAAAoC,KAAA,QAAAnC,IAAA,SAA0C0B,YAAA,UAAwBb,MAAA,CAAQK,MAAAvB,EAAA,IAAAwB,SAAA,SAAAC,GAA8C1D,EAAA2D,KAAA1B,EAAA,MAAAyB,IAA+BE,WAAA,kBAA4BxD,EAAA,aAAkBoC,GAAA,CAAIC,MAAA,SAAAQ,GAAiD,OAAxBA,EAAAyB,iBAAwB1E,EAAA2E,eAAA1C,MAAsC,CAAAjC,EAAAO,GAAA,cAAqB,GAAAH,EAAA,gBAAAA,EAAA,aAAwCoC,GAAA,CAAIC,MAAAzC,EAAA4E,cAAyB,CAAA5E,EAAAO,GAAA,eAAAH,EAAA,gBAA2CI,MAAA,CAAO8C,MAAA,SAAgB,CAAAlD,EAAA,YAAiBI,MAAA,CAAO+C,KAAA,QAAcJ,MAAA,CAAQK,MAAAxD,EAAAoD,SAAA,SAAAK,SAAA,SAAAC,GAAuD1D,EAAA2D,KAAA3D,EAAAoD,SAAA,WAAAM,IAAwCE,WAAA,wBAAiC,cAAA5D,EAAA6E,aAAAzE,EAAA,gBAAuDI,MAAA,CAAO8C,MAAA,SAAgB,CAAAlD,EAAA,YAAiBI,MAAA,CAAO+C,KAAA,QAAcJ,MAAA,CAAQK,MAAAxD,EAAAoD,SAAA,cAAAK,SAAA,SAAAC,GAA4D1D,EAAA2D,KAAA3D,EAAAoD,SAAA,gBAAAM,IAA6CE,WAAA,6BAAsC,GAAA5D,EAAA8E,MAAA,GAAA1E,EAAA,QAA8BI,MAAA,CAAOuE,KAAA,UAAgBA,KAAA,UAAe,CAAA3E,EAAA,aAAkB4E,SAAA,CAAUvC,MAAA,SAAAQ,GAAyBjD,EAAA6C,qBAAA,KAAgC,CAAA7C,EAAAO,GAAA,QAAAH,EAAA,aAAiCI,MAAA,CAAO+C,KAAA,WAAiBf,GAAA,CAAKC,MAAAzC,EAAAiF,aAAwB,CAAAjF,EAAAO,GAAA,yBAC1pK2E,EAAA,GCwIAC,EAAA,CACAC,KAAA,sBAEAC,KAHA,WAIA,OACA5D,WAAAxB,KAAAqF,OAAAC,QAAAC,cAEA3C,qBAAA,EAEAO,SAAA,CACAjB,GAAA,EACAT,YAAA,GACAG,UAAA,GACAC,QAAA,GACAC,SAAA,GACA0D,cAAA,GACAC,YAAA,GACAnD,MAAA,GACAoD,UAAA,CACA,CACAvD,IAAA,EACAE,IAAA,GACAD,MAAA,MAKAd,SAAAtB,KAAAqF,OAAAC,QAAAK,aAEAC,QAAA,EACArC,MAAA,IACAF,MAAA,MACA,CACAE,MAAA,IACAF,MAAA,MACA,CACAE,MAAA,IACAF,MAAA,MACA,CACAE,MAAA,IACAF,MAAA,MACA,CACAE,MAAA,IACAF,MAAA,MACA,CACAE,MAAA,IACAF,MAAA,MACA,CACAE,MAAA,IACAF,MAAA,SAMAwC,QAAA,CACA/E,mBAAA,SAAAgF,GACAC,QAAAC,IAAAF,GACA,IAAAG,EAAAH,EAAAI,KAAA,SAKA,OAHAD,GACAjG,KAAAmG,SAAAC,MAAA,wBAEAH,GAGA7E,cAAA,SAAAiF,GACA,IAAAC,EAAA,IAAAC,SACAD,EAAAE,OAAA,SAAAH,EAAAP,MACA9F,KAAAyG,MAAAC,QAAA,CACAC,IAAA,gBAAA3G,KAAAqF,OAAAC,QAAAsB,YAAA,UACAC,OAAA,OACAzB,KAAAkB,EACA5F,QAAA,CACAoG,cAAA,UAAA9G,KAAAqF,OAAA/C,MAAAyE,KAAAC,YACAC,eAAA,yBAEAC,KAAA,SAAAC,GACApB,QAAAC,IAAAmB,GACAC,MAAA,UACAC,MAAA,SAAAjB,GACAgB,MAAA,QACArB,QAAAC,IAAAI,EAAAe,aAIAnG,cAAA,SAAAmG,EAAArB,EAAAwB,GACAF,MAAA,QACArB,QAAAC,IAAAmB,IAGAjG,WAAA,SAAAkF,EAAAN,EAAAwB,GACAF,MAAA,QACArB,QAAAC,IAAAI,IAIA3D,eA1CA,WA2CAzC,KAAAmD,SAAAoE,OAAAC,OAAA,GAAAxH,KAAAwB,YACAxB,KAAAmD,SAAAuC,UAAA,CACA,CACAvD,IAAA,EACAE,IAAA,GACAD,MAAA,KAGApC,KAAA4C,qBAAA,GAIAoC,WAvDA,WAwDA,IAAAyC,EAAAzH,KAEAA,KAAAyG,MAAAC,QAAA,CACAC,IAAA,gBAAA3G,KAAAmD,SAAAjB,GAAA,UACA2E,OAAA,MACAnG,QAAAV,KAAAqF,OAAAC,QAAAoC,gBACAtC,KAAA,CACA3D,YAAAzB,KAAAmD,SAAA1B,YACAG,UAAA5B,KAAAmD,SAAAvB,UACAC,QAAA7B,KAAAmD,SAAAtB,QACAC,SAAA9B,KAAAmD,SAAArB,SACA4D,UAAA1F,KAAAmD,SAAAuC,aAGAwB,KAAA,SAAAC,GACApB,QAAAC,IAAAmB,EAAA/B,MAEAqC,EAAAE,mBAAA,EACAP,MAAA,cAEAC,MAAA,SAAAjB,GACAL,QAAAC,IAAAI,GACAgB,MAAA,WAKA1C,eAnFA,SAmFAJ,GACA,IAAAL,EAAAjE,KAAAmD,SAAAuC,UAAAkC,QAAAtD,IACA,IAAAL,GACAjE,KAAAmD,SAAAuC,UAAAmC,OAAA5D,EAAA,IAKAU,YA3FA,WA4FA3E,KAAAmD,SAAAuC,UAAAoC,KAAA,CACA3F,IAAA,GACAC,MAAA,GACAC,IAAA,QC/R2X0F,EAAA,0BCQ3XC,EAAgBT,OAAAU,EAAA,KAAAV,CACdQ,EACAjI,EACAmF,GACF,EACA,KACA,WACA,MAIeiD,EAAA,WAAAF,6CCnBf,IAAAG,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAmhBE,EAAG","file":"js/chunk-ba042664.a00b47f5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-header',[_c('h1',{staticClass:\"titlesytle\"},[_vm._v(\"课程详情\")])]),_c('el-main',[_c('div',{staticClass:\"courseimg\"},[_c('el-upload',{staticClass:\"avatar-uploader avatar\",attrs:{\"action\":_vm.uploadUrl,\"headers\":_vm.uploadHeader,\"show-file-list\":false,\"before-upload\":_vm.beforeAvatarUpload,\"on-success\":_vm.uploadSucceed,\"on-error\":_vm.uploadFail,\"http-request\":_vm.uploadProcess}},[(_vm.imageURL)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.imageURL}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('div',{staticClass:\"coursedes\"},[_c('p',[_vm._v(\"\\n                    课程名称：\\n                    \"),_c('span',{staticClass:\"detail\"},[_vm._v(\"\\n                        \"+_vm._s(_vm.CourseForm.courseTitle)+\"\\n                    \")])]),_c('p',[_vm._v(\"\\n                    授课教师：\\n                    \"),_c('span',{staticClass:\"detail\"},[_vm._v(\"\\n                        \"+_vm._s(_vm.CourseForm.teacher.username)+\"\\n                    \")])]),_c('p',[_vm._v(\"\\n                    上课日期：\\n                    \"),_c('span',{staticClass:\"detail\"},[_vm._v(\"\\n                        \"+_vm._s(_vm.CourseForm.startDate)+\" 至 \"+_vm._s(_vm.CourseForm.endDate)+\"\\n                    \")])]),_c('p',[_vm._v(\"\\n                    上课地点：\\n                    \"),_c('span',{staticClass:\"detail\"},[_vm._v(\"\\n                        \"+_vm._s(_vm.CourseForm.location)+\"\\n                    \")])]),_vm._l((_vm.CourseForm.timeSlots),function(timeslot){return _c('div',{key:timeslot.id},[_c('p',[_vm._v(\"\\n                        上课时间：\\n                        \"),_c('span',{staticClass:\"detail\"},[_vm._v(\"\\n                            \"+_vm._s(timeslot.day)+\"——\"+_vm._s(timeslot.start)+\"至\"+_vm._s(timeslot.end)+\"\\n                        \")])])])}),_c('p',[_vm._v(\"\\n                    课程状态：\\n                    \"),_c('span',{staticClass:\"detail\"},[_vm._v(\"\\n                        \"+_vm._s(_vm.CourseForm.state)+\"\\n                    \")])]),_c('el-button',{on:{\"click\":_vm.showEditDialog}},[_vm._v(\"编辑课程详情\")])],2),_c('el-dialog',{attrs:{\"title\":'编辑课程信息',\"visible\":_vm.courseDialogVisible,\"lock-scroll\":false,\"top\":\"5%\"},on:{\"update:visible\":function($event){_vm.courseDialogVisible=$event}}},[_c('el-form',{ref:\"editForm\",attrs:{\"model\":_vm.editForm,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"课程名\"}},[_c('el-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.editForm.courseTitle),callback:function ($$v) {_vm.$set(_vm.editForm, \"courseTitle\", $$v)},expression:\"editForm.courseTitle\"}})],1),_c('el-form-item',{attrs:{\"label\":\"上课日程\"}},[_c('el-col',{attrs:{\"span\":11}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"选择开始时间\",\"type\":\"date\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\"},model:{value:(_vm.editForm.startDate),callback:function ($$v) {_vm.$set(_vm.editForm, \"startDate\", $$v)},expression:\"editForm.startDate\"}})],1),_c('el-col',{staticClass:\"line\",attrs:{\"span\":2}},[_vm._v(\"-\")]),_c('el-col',{attrs:{\"span\":11}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"选择结束时间\",\"type\":\"date\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\"},model:{value:(_vm.editForm.endDate),callback:function ($$v) {_vm.$set(_vm.editForm, \"endDate\", $$v)},expression:\"editForm.endDate\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"课时\"}},_vm._l((_vm.editForm.timeSlots),function(timeslot,index){return _c('el-form-item',{key:timeslot.day,attrs:{\"label\":'时间段'+(index+1),\"rules\":{required: true, message: '内容不能为空', trigger: 'blur'}}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(timeslot.day),callback:function ($$v) {_vm.$set(timeslot, \"day\", $$v)},expression:\"timeslot.day\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_c('el-time-select',{attrs:{\"picker-options\":{start: '08:00',step: '00:30',end: '20:30'},\"placeholder\":\"选择开始时间\"},model:{value:(timeslot.start),callback:function ($$v) {_vm.$set(timeslot, \"start\", $$v)},expression:\"timeslot.start\"}}),_c('el-time-select',{attrs:{\"picker-options\":{start: '08:00',step: '00:30',end: '20:30'},\"placeholder\":\"选择结束时间\"},model:{value:(timeslot.end),callback:function ($$v) {_vm.$set(timeslot, \"end\", $$v)},expression:\"timeslot.end\"}}),_c('el-button',{on:{\"click\":function($event){$event.preventDefault();return _vm.removeTimeslot(timeslot)}}},[_vm._v(\"删除\")])],1)}),1),_c('el-form-item',[_c('el-button',{on:{\"click\":_vm.addTimeslot}},[_vm._v(\"新增时间段\")])],1),_c('el-form-item',{attrs:{\"label\":\"上课地点\"}},[_c('el-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.editForm.location),callback:function ($$v) {_vm.$set(_vm.editForm, \"location\", $$v)},expression:\"editForm.location\"}})],1),(_vm.dialogStatus==='update')?_c('el-form-item',{attrs:{\"label\":\"授课教师\"}},[_c('el-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.editForm.courseTeacher),callback:function ($$v) {_vm.$set(_vm.editForm, \"courseTeacher\", $$v)},expression:\"editForm.courseTeacher\"}})],1):_vm._e()],1),_c('span',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{nativeOn:{\"click\":function($event){_vm.courseDialogVisible=false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.updateData}},[_vm._v(\"修改\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <el-header>\n            <h1 class=\"titlesytle\">课程详情</h1>\n        </el-header>\n        <el-main>\n            <div class=\"courseimg\">\n                <el-upload\n                        class=\"avatar-uploader avatar\"\n                        :action=\"uploadUrl\"\n                        :headers=\"uploadHeader\"\n                        :show-file-list=\"false\"\n                        :before-upload=\"beforeAvatarUpload\"\n                        :on-success=\"uploadSucceed\"\n                        :on-error=\"uploadFail\"\n                        :http-request=\"uploadProcess\">\n                    <img v-if=\"imageURL\" :src=\"imageURL\" class=\"avatar\">\n                    <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n                </el-upload>\n            </div>\n            <div class=\"coursedes\">\n                <p>\n                    课程名称：\n                    <span class=\"detail\">\n                        {{CourseForm.courseTitle}}\n                    </span>\n                </p>\n                <p>\n                    授课教师：\n                    <span class=\"detail\">\n                        {{CourseForm.teacher.username}}\n                    </span>\n                </p>\n                <p>\n                    上课日期：\n                    <span class=\"detail\">\n                        {{CourseForm.startDate}} 至 {{CourseForm.endDate}}\n                    </span>\n                </p>\n                <p>\n                    上课地点：\n                    <span class=\"detail\">\n                        {{CourseForm.location}}\n                    </span>\n                </p>\n                <div v-for=\"timeslot in CourseForm.timeSlots\" :key=\"timeslot.id\">\n                    <p>\n                        上课时间：\n                        <span class=\"detail\">\n                            {{timeslot.day}}——{{timeslot.start}}至{{timeslot.end}}\n                        </span>\n                    </p>\n                </div>\n                <p>\n                    课程状态：\n                    <span class=\"detail\">\n                        {{CourseForm.state}}\n                    </span>\n                </p>\n                <el-button @click=\"showEditDialog\">编辑课程详情</el-button>\n            </div>\n            <el-dialog :title=\"'编辑课程信息'\"\n                       :visible.sync=\"courseDialogVisible\"\n                       :lock-scroll=\"false\"\n                       top=\"5%\">\n                <el-form :model=\"editForm\" label-width=\"80px\" ref=\"editForm\">\n                    <el-form-item label=\"课程名\">\n                        <el-input type=\"text\" v-model=\"editForm.courseTitle\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"上课日程\">\n                        <el-col :span=\"11\">\n                            <el-date-picker placeholder=\"选择开始时间\"\n                                            type=\"date\"\n                                            v-model=\"editForm.startDate\"\n                                            value-format=\"yyyy-MM-dd HH:mm:ss\"\n                                            style=\"width: 100%;\">\n                            </el-date-picker>\n                        </el-col>\n                        <el-col class=\"line\" :span=\"2\">-</el-col>\n                        <el-col :span=\"11\">\n                            <el-date-picker placeholder=\"选择结束时间\"\n                                            type=\"date\"\n                                            v-model=\"editForm.endDate\"\n                                            value-format=\"yyyy-MM-dd HH:mm:ss\"\n                                            style=\"width: 100%;\">\n                            </el-date-picker>\n                        </el-col>\n                    </el-form-item>\n                    <!--                课程的上课时间段-->\n                    <el-form-item label=\"课时\">\n                        <el-form-item\n                                v-for=\"(timeslot, index) in editForm.timeSlots\"\n                                :label=\"'时间段'+(index+1)\"\n                                :key=\"timeslot.day\"\n                                :rules=\"{required: true, message: '内容不能为空', trigger: 'blur'}\">\n<!--                            <el-input v-model=\"timeslot.day\" placeholder=\"输入0-6，0代表周日\"></el-input>-->\n                            <el-select v-model=\"timeslot.day\" placeholder=\"请选择\">\n                                <el-option\n                                        v-for=\"item in options\"\n                                        :key=\"item.value\"\n                                        :label=\"item.label\"\n                                        :value=\"item.value\">\n                                </el-option>\n                            </el-select>\n                            <el-time-select\n                                    v-model=\"timeslot.start\"\n                                    :picker-options=\"{start: '08:00',step: '00:30',end: '20:30'}\"\n                                    placeholder=\"选择开始时间\">\n                            </el-time-select>\n                            <el-time-select\n                                    v-model=\"timeslot.end\"\n                                    :picker-options=\"{start: '08:00',step: '00:30',end: '20:30'}\"\n                                    placeholder=\"选择结束时间\">\n                            </el-time-select>\n                            <el-button @click.prevent=\"removeTimeslot(timeslot)\">删除</el-button>\n                        </el-form-item>\n                    </el-form-item>\n                    <el-form-item>\n                        <el-button @click=\"addTimeslot\">新增时间段</el-button>\n                    </el-form-item>\n                    <el-form-item label=\"上课地点\">\n                        <el-input type=\"text\" v-model=\"editForm.location\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"授课教师\" v-if=\"dialogStatus==='update'\">\n                        <el-input type=\"text\" v-model=\"editForm.courseTeacher\"></el-input>\n                    </el-form-item>\n                </el-form>\n                <span slot=\"footer\">\n                    <el-button @click.native=\"courseDialogVisible=false\">取消</el-button>\n                    <el-button type=\"primary\" @click=\"updateData\">修改</el-button>\n                </span>\n            </el-dialog>\n        </el-main>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"TeacherCourseDetail\",\n\n        data(){\n            return{\n                CourseForm:this.$store.getters.getCourseInfo,\n\n                courseDialogVisible:false,\n\n                editForm: {\n                    id:0,\n                    courseTitle:\"\",\n                    startDate:\"\",\n                    endDate:\"\",\n                    location:\"\",\n                    courseTeacher:\"\",\n                    courseState:\"\",\n                    state:\"\",\n                    timeSlots:[\n                        {\n                            day:0,\n                            end:\"\",\n                            start:\"\",\n                        },\n                    ]\n                },\n\n                imageURL: this.$store.getters.getCourseImg,\n\n                options: [{\n                    value: '0',\n                    label: '周日'\n                }, {\n                    value: '1',\n                    label: '周一'\n                }, {\n                    value: '2',\n                    label: '周二'\n                }, {\n                    value: '3',\n                    label: '周三'\n                }, {\n                    value: '4',\n                    label: '周四'\n                },{\n                    value: '5',\n                    label: '周五'\n                }, {\n                    value: '6',\n                    label: '周六'\n                },\n                ],\n            }\n        },\n\n        methods:{\n            beforeAvatarUpload: function(file) {\n                console.log(file);\n                const isLt2M = file.size / 1024 < 5000;\n\n                if (!isLt2M) {\n                    this.$message.error('上传头像图片大小不能超过 5000KB!');\n                }\n                return isLt2M;\n            },\n\n            uploadProcess: function(param) {\n                let formData = new FormData();\n                formData.append(\"avatar\",param.file);\n                this.$http.request({\n                    url: \"/api/courses/\" + this.$store.getters.getCourseId+ \"/avatar\",\n                    method: \"post\",\n                    data: formData,\n                    headers: {\n                        'Authorization': \"Bearer \" + this.$store.state.user.accessToken,\n                        'Content-Type': 'multipart/form-data'\n                    },\n                }).then((response) => {\n                    console.log(response);\n                    alert(\"修改成功\");\n                }).catch((error) => {\n                    alert(\"修改失败\");\n                    console.log(error.response);\n                })\n            },\n\n            uploadSucceed: function(response,file,filelist) {\n                alert(\"上传成功\");\n                console.log(response);\n            },\n\n            uploadFail: function(error,file,filelist) {\n                alert(\"上传失败\");\n                console.log(error);\n            },\n\n            // 显示编辑弹窗\n            showEditDialog(){\n                this.editForm = Object.assign({}, this.CourseForm);\n                this.editForm.timeSlots=[\n                    {\n                        day:0,\n                        end:\"\",\n                        start:\"\",\n                    },\n                ];\n                this.courseDialogVisible=true;\n            },\n\n            // 修改课程\n            updateData(){\n                var that=this;\n                //编辑课程信息\n                this.$http.request({\n                    url: '/api/courses/'+this.editForm.id+'/modify',\n                    method: \"put\",\n                    headers: this.$store.getters.authRequestHead,\n                    data:{\n                        courseTitle:this.editForm.courseTitle,\n                        startDate:this.editForm.startDate,\n                        endDate:this.editForm.endDate,\n                        location:this.editForm.location,\n                        timeSlots:this.editForm.timeSlots,\n                    }\n                })\n                    .then(function (response) {\n                        console.log(response.data);\n\n                        that.dialogFormVisible=false;\n                        alert(\"修改课程信息成功\");\n                    })\n                    .catch(function (error) {\n                        console.log(error);\n                        alert(\"请求失败\");\n                    });\n            },\n\n            // 移除时间段\n            removeTimeslot(item) {\n                var index = this.editForm.timeSlots.indexOf(item);\n                if (index !== -1) {\n                    this.editForm.timeSlots.splice(index, 1)\n                }\n            },\n\n            // 添加时间段\n            addTimeslot() {\n                this.editForm.timeSlots.push({\n                    day:'',\n                    start:'',\n                    end:'',\n                });\n            },\n        }\n    }\n</script>\n\n<style scoped>\n    .titlesytle {\n        text-align: center;\n        padding-top: 20px\n    }\n\n    .courseimg {\n        float: left;\n        width: 25%;\n    }\n\n    .coursedes {\n        float: right;\n        width: 70%;\n        font-size: large;\n    }\n\n    .detail {\n        font-size: small;\n    }\n\n    .avatar-uploader {\n        border: 1px dashed #d9d9d9;\n        border-radius: 100%;\n        cursor: pointer;\n        position: relative;\n        overflow: hidden;\n    }\n\n    .avatar-uploader:hover {\n        border-color: #409EFF;\n    }\n\n    .avatar-uploader-icon {\n        font-size: 28px;\n        color: #8c939d;\n        width: 178px;\n        height: 178px;\n        line-height: 178px;\n        text-align: center;\n    }\n\n    .avatar {\n        width: 178px;\n        height: 178px;\n        display: block;\n    }\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TeacherCourseDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TeacherCourseDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TeacherCourseDetail.vue?vue&type=template&id=41e7cfc0&scoped=true&\"\nimport script from \"./TeacherCourseDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./TeacherCourseDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TeacherCourseDetail.vue?vue&type=style&index=0&id=41e7cfc0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41e7cfc0\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TeacherCourseDetail.vue?vue&type=style&index=0&id=41e7cfc0&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TeacherCourseDetail.vue?vue&type=style&index=0&id=41e7cfc0&scoped=true&lang=css&\""],"sourceRoot":""}