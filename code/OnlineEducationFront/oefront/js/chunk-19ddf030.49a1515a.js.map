{"version":3,"sources":["webpack:///./src/modules/index/views/TeacherCorrectSub.vue?b57c","webpack:///src/modules/index/views/TeacherCorrectSub.vue","webpack:///./src/modules/index/views/TeacherCorrectSub.vue?9b33","webpack:///./src/modules/index/views/TeacherCorrectSub.vue?c2a3","webpack:///./src/modules/index/views/TeacherCorrectSub.vue?8a88"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_l","question","key","answerPrimaryKey","id","_s","score","answer","image","attrs","src","Math","random","_e","staticStyle","width","type","placeholder","model","value","callback","$$v","$set","expression","margin-top","on","click","submitComments","staticRenderFns","TeacherCorrectSubvue_type_script_lang_js_","name","data","allAnswers","getQuestionNum","methods","showAllAnswers","questions","$store","getters","getPaperAnswers","answers","questionNums","paperAnswerPrimaryKey","paper","x","length","questionType","push","t","paperWithQuestionsPrimaryKey","len1","len2","k","y","console","log","finalCorrect","temp","comment","questionId","grade","$http","request","url","getCourseId","getPaperId","state","course","studentSelectId","times","method","headers","authRequestHead","then","response","alert","catch","error","mounted","views_TeacherCorrectSubvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TeacherCorrectSub_vue_vue_type_style_index_0_id_45bf9118_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TeacherCorrectSub_vue_vue_type_style_index_0_id_45bf9118_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-19ddf030.49a1515a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-header',[_c('h1',{staticClass:\"titlesytle\"},[_vm._v(\"主观题批改\")])]),_c('el-main',[_vm._l((_vm.allAnswers),function(question){return _c('div',{key:question.answerPrimaryKey.question.id},[_c('div',[_c('h4',[_vm._v(\"\\n                        问题: \"+_vm._s(question.answerPrimaryKey.question.question)+\"\\n                    \")]),_c('h4',[_vm._v(\"\\n                        分值: \"+_vm._s(question.score)+\"\\n                    \")]),_c('p',[_vm._v(\"\\n                        回答: \"+_vm._s(question.answer)+\"\\n                    \")])]),_vm._l((question.imageUrl),function(image){return _c('div',{key:image},[(image)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":'http://202.120.40.8:30382/online-edu/static/' + image + '?a=' + Math.random()}}):_vm._e()])}),_c('div',{staticStyle:{\"width\":\"60%\"}},[_c('el-input',{attrs:{\"type\":\"number\",\"placeholder\":\"请输入分数\"},model:{value:(question.grade),callback:function ($$v) {_vm.$set(question, \"grade\", $$v)},expression:\"question.grade\"}}),_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入评语\"},model:{value:(question.comment),callback:function ($$v) {_vm.$set(question, \"comment\", $$v)},expression:\"question.comment\"}})],1)],2)}),_c('el-button',{staticStyle:{\"margin-top\":\"20px\"},on:{\"click\":_vm.submitComments}},[_vm._v(\"提交\")])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <el-header>\n            <h1 class=\"titlesytle\">主观题批改</h1>\n        </el-header>\n        <el-main>\n<!--            主观题及答案展示-->\n            <div v-for=\"question in allAnswers\" :key=\"question.answerPrimaryKey.question.id\">\n                <div>\n                    <h4>\n                        问题: {{question.answerPrimaryKey.question.question}}\n                    </h4>\n                    <h4>\n                        分值: {{question.score}}\n                    </h4>\n                    <p>\n                        回答: {{question.answer}}\n                    </p>\n                </div>\n<!--                展示图片-->\n                <div v-for=\"image in question.imageUrl\" :key=\"image\">\n                    <img v-if=\"image\"\n                         :src=\"'http://202.120.40.8:30382/online-edu/static/' + image + '?a=' + Math.random()\"\n                         class=\"avatar\">\n                </div>\n<!--                打分和评语框-->\n                <div style=\"width: 60%\">\n                    <el-input type=\"number\" placeholder=\"请输入分数\" v-model=\"question.grade\"></el-input>\n                    <el-input type=\"textarea\" placeholder=\"请输入评语\" v-model=\"question.comment\"></el-input>\n                </div>\n            </div>\n<!--            提交打分-->\n            <el-button style=\"margin-top: 20px\" @click=\"submitComments\">提交</el-button>\n        </el-main>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"TeacherCorrectSub\",\n\n        data(){\n            return{\n                // questions:[],\n\n                // 所有主观题\n                allAnswers:[],\n\n                // 获取题号的数组\n                getQuestionNum:[],\n            }\n        },\n\n        methods:{\n            // 获取所有该学生的答案，把题号和分值存入\n            showAllAnswers(){\n                var questions=[];\n                questions=this.$store.getters.getPaperAnswers.answers;\n\n                var questionNums=[];\n                questionNums=this.$store.getters.getPaperAnswers.paperAnswerPrimaryKey.paper.questions;\n\n                // 获取答题答案\n                for (var x=0; x<questions.length; x++) {\n                    if (questions[x].answerPrimaryKey.question.questionType==='SUBJECTIVE'){\n                        this.allAnswers.push(questions[x]);\n                    }\n\n                }\n                // 获取题目信息\n                for (var t=0; t<questionNums.length; t++){\n                    if(questionNums[t].paperWithQuestionsPrimaryKey.question.questionType==='SUBJECTIVE'){\n                        this.getQuestionNum.push(questionNums[t]);\n                    }\n                }\n                // 把题号和分值存入\n                var len1=this.allAnswers.length;\n                var len2=this.getQuestionNum.length;\n                for (var k=0; k<len1; k++){\n                    for (var y=0; y<len2; y++){\n                        if (this.allAnswers[k].answerPrimaryKey.question.id===this.getQuestionNum[y].paperWithQuestionsPrimaryKey.question.id) {\n                            this.allAnswers[k].score=this.getQuestionNum[y].score;\n                            // this.allAnswers[k].questionNumber=this.getQuestionNum[y].questionNumber;\n                        }\n                    }\n                }\n                console.log(this.allAnswers);\n            },\n\n            // 提交评分结果\n            submitComments(){\n                // 存储最终传输的数据\n                var finalCorrect=[];\n                for(var x=0; x<this.allAnswers.length; x++){\n                    var temp={\n                        comment: this.allAnswers[x].comment,\n                        questionId:this.allAnswers[x].answerPrimaryKey.question.id,\n                        score: this.allAnswers[x].grade,\n                    };\n                    finalCorrect.push(temp);\n                }\n\n                this.$http.request({\n                    url: '/api/courses/'+this.$store.getters.getCourseId+'/papers/'+this.$store.getters.getPaperId+'/answer/mark/'+this.$store.state.course.studentSelectId+\"/\"+this.$store.getters.getPaperAnswers.paperAnswerPrimaryKey.times,\n                    method: \"put\",\n                    headers:this.$store.getters.authRequestHead,\n                    data:finalCorrect,\n                })\n                    .then(function (response) {\n                        console.log(response.data);\n                        alert(\"请求成功\");\n                    })\n                    .catch(function (error) {\n                        console.log(error.response);\n                        alert(\"请求失败\");\n                    });\n            }\n\n        },\n\n        mounted() {\n            this.showAllAnswers();\n        }\n    }\n</script>\n\n<style scoped>\n    .titlesytle {\n        text-align: center;\n        padding-top: 20px\n    }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TeacherCorrectSub.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TeacherCorrectSub.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TeacherCorrectSub.vue?vue&type=template&id=45bf9118&scoped=true&\"\nimport script from \"./TeacherCorrectSub.vue?vue&type=script&lang=js&\"\nexport * from \"./TeacherCorrectSub.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TeacherCorrectSub.vue?vue&type=style&index=0&id=45bf9118&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"45bf9118\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TeacherCorrectSub.vue?vue&type=style&index=0&id=45bf9118&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TeacherCorrectSub.vue?vue&type=style&index=0&id=45bf9118&scoped=true&lang=css&\""],"sourceRoot":""}