(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e16f2e3"],{"268f7":function(e,t,s){},"2d17":function(e,t,s){"use strict";var r=s("268f7"),i=s.n(r);i.a},c68d:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"step-line"},[s("el-steps",{attrs:{active:e.currentStep}},[s("el-step",{attrs:{title:"账号信息",icon:"el-icon-user-solid"}}),s("el-step",{attrs:{title:"详细信息",icon:"el-icon-s-order"}}),s("el-step",{attrs:{title:"邮箱验证",icon:"el-icon-message"}}),s("el-step",{attrs:{title:"注册完成",icon:"el-icon-check"}})],1)],1),0===e.currentStep?s("div",[s("div",{staticClass:"step-layout"},[s("el-form",{ref:"step1Form",attrs:{"label-position":"left","label-width":"80px",model:e.registerUser,rules:e.step1Rules}},[s("el-form-item",{attrs:{label:"用户名",prop:"username"}},[s("el-input",{attrs:{type:"text","suffix-icon":"el-icon-user",placeholder:"请在此创建你的用户名"},model:{value:e.registerUser.username,callback:function(t){e.$set(e.registerUser,"username",t)},expression:"registerUser.username"}})],1),s("el-form-item",{attrs:{label:"密码",prop:"password"}},[s("el-input",{attrs:{type:"password","suffix-icon":"el-icon-lock",placeholder:"请在此创建密码"},model:{value:e.registerUser.password,callback:function(t){e.$set(e.registerUser,"password",t)},expression:"registerUser.password"}})],1),s("el-form-item",{attrs:{label:"确认密码",prop:"confirmPass"}},[s("el-input",{attrs:{type:"password","suffix-icon":"el-icon-lock",placeholder:"请重新输入你创建的密码"},model:{value:e.registerUser.confirmPass,callback:function(t){e.$set(e.registerUser,"confirmPass",t)},expression:"registerUser.confirmPass"}})],1),s("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[s("el-input",{attrs:{type:"text","suffix-icon":"el-icon-message",placeholder:"请输入你的邮箱"},model:{value:e.registerUser.email,callback:function(t){e.$set(e.registerUser,"email",t)},expression:"registerUser.email"}})],1),s("el-form-item",{attrs:{label:"手机号",prop:"tel"}},[s("el-input",{attrs:{type:"text","suffix-icon":"el-icon-phone-outline",placeholder:"请输入你的手机号码"},model:{value:e.registerUser.tel,callback:function(t){e.$set(e.registerUser,"tel",t)},expression:"registerUser.tel"}})],1),s("el-form-item",[s("div",{staticClass:"center-layout next-button"},[s("el-button",{attrs:{type:"primary"},on:{click:e.submitStep1}},[e._v("下一步")])],1)])],1)],1)]):1===e.currentStep?s("div",[s("div",{staticClass:"step-layout"},[s("UserInfoManage",{attrs:{userdata:e.registerDetailInfo,type:"register"},on:{"submit-info":e.submitStep3,"on-back":e.lastStep}})],1)]):2===e.currentStep?s("div",[s("div",{staticClass:"step-layout"},[s("EmailConfirm",{ref:"emailConfirm",attrs:{"confirm-type":"register"},on:{"confirm-pass":e.finishRegister,"resend-request":e.resendRequest}}),s("div",{staticClass:"center-layout button-group-size"},[s("el-button",{attrs:{type:"primary"},on:{click:e.lastStep}},[e._v("返回")]),s("el-button",{attrs:{type:"primary"},on:{click:e.submitStep2}},[e._v("提交")])],1)],1)]):3===e.currentStep?s("div",[e._m(0)]):e._e(),s("div",{staticClass:"center-layout return-link"},[s("div",{staticClass:"return-offset"},[s("el-link",{attrs:{href:"/#/login"}},[e._v("已有账号？点此返回登录")])],1)])])},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"step-layout"},[s("h3",[e._v("恭喜你，注册成功！请点击下方链接进行登录")])])}],a=s("bd69"),n=s("3db6"),l=s("bc10"),o={name:"Register",components:{EmailConfirm:l["a"],UserInfoManage:a["a"]},data:function(){var e=this,t=function(t,s,r){s!==e.registerUser.password?r(new Error("两次输入的密码不符")):r()};return{currentStep:0,resendFlag:!1,countDown:60,registerUser:{username:"",password:"",confirmPass:"",email:"",tel:""},step1Rules:{username:n["a"].usernameRule,password:n["a"].passwordRule,confirmPass:[{required:!0,message:"确认密码不能为空",trigger:"change"},{validator:t,trigger:"change"}],email:n["a"].emailRule,tel:n["a"].telRule},totalRegisterInfo:{username:"",password:"",email:"",tel:"",realName:"",sex:"",university:"",sno:"",major:"",grade:1},registerDetailInfo:{realName:"",tel:"",sex:"",university:"",sno:"",major:"",grade:1}}},methods:{nextStep:function(){this.currentStep++},lastStep:function(){this.currentStep--},submitStep1:function(){var e=this;this.$refs["step1Form"].validate(function(t){t&&e.nextStep()})},submitStep2:function(){this.$refs["emailConfirm"].sendConfirmCode()},submitStep3:function(e){var t=this,s={username:this.registerUser.username,password:this.registerUser.password,email:this.registerUser.email,tel:this.registerUser.tel,realName:e.realName,sex:e.sex,university:e.university,sno:e.sno,major:e.major,grade:e.grade};this.totalRegisterInfo=s,console.log(s),this.$http.request({url:"/api/auth/signup",method:"post",data:s,withCredentials:!0}).then(function(e){console.log(e),t.nextStep()}).catch(function(e){console.log(e.response),"Fail -> Email Address is already taken!"===e.response.data&&alert("邮箱已被使用，请更换邮箱")})},finishRegister:function(){alert("注册成功！"),this.nextStep()},resendRequest:function(){this.$http.request({url:"/api/auth/signup",method:"post",data:this.totalRegisterInfo,withCredentials:!0}).then(function(e){console.log(e)}).catch(function(e){console.log(e.response),"Fail -> Email Address is already taken!"===e.response.data&&alert("邮箱已被使用，请更换邮箱")})}}},c=o,u=(s("2d17"),s("2877")),p=Object(u["a"])(c,r,i,!1,null,"bd162b08",null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-7e16f2e3.36dc6740.js.map