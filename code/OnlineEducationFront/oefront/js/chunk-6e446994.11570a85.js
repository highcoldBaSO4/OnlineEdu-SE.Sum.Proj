(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e446994"],{"38d5":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-header",[o("h1",{staticClass:"titlesytle"},[t._v("课程题库")])]),o("el-main",[o("div",[o("el-button",{on:{click:t.showSingleDialog}},[t._v("添加单选题")]),o("el-button",{on:{click:t.showMultiDialog}},[t._v("添加多选题")]),o("el-button",{on:{click:t.showJudgeDialog}},[t._v("添加判断题")]),o("el-button",{on:{click:t.showSubDialog}},[t._v("添加主观题")]),t._l(t.questions,function(e){return o("div",{key:e.id},["SINGLE_ANSWER"===e.questionType||"MULTIPLE_ANSWER"===e.questionType?o("div",[o("h4",[t._v("\n                            Question: "+t._s(e.content)+"\n                        ")]),t._l(e.options,function(e,i){return o("div",{key:e},[t._v("\n                            【"+t._s(i)+"】 "+t._s(e)+"\n                        ")])})],2):o("div",[o("h4",[t._v("\n                            Question: "+t._s(e.question)+"\n                        ")])]),t._l(e.images,function(e){return o("div",{key:e},[e?o("img",{staticClass:"avatar",attrs:{src:"http://202.120.40.8:30382/online-edu/static/"+e+"?a="+Math.random()}}):t._e()])}),"SUBJECTIVE"!==e.questionType?o("div",{staticStyle:{color:"red"}},[o("p",[t._v("Answer: "+t._s(e.answer))])]):t._e()],2)})],2),o("el-dialog",{attrs:{title:"单选题",visible:t.singleVisible,top:"5%"},on:{"update:visible":function(e){t.singleVisible=e}}},[o("el-form",{ref:"singleEditForm",attrs:{model:t.singleEditForm,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"题目"}},[o("el-input",{attrs:{type:"textarea"},model:{value:t.singleEditForm.title,callback:function(e){t.$set(t.singleEditForm,"title",e)},expression:"singleEditForm.title"}})],1),t._l(t.singleEditForm.choices,function(e,i){return o("el-form-item",{key:e.key,attrs:{label:"选项"+(i+1),prop:"choice."+i+".content",rules:{required:!0,message:"内容不能为空",trigger:"blur"}}},[o("el-input",{model:{value:e.content,callback:function(o){t.$set(e,"content",o)},expression:"choice.content"}}),o("el-button",{on:{click:function(o){return o.preventDefault(),t.removeChoiceSingle(e)}}},[t._v("删除")])],1)}),o("el-form-item",[o("el-button",{on:{click:t.addChoiceSingle}},[t._v("新增选项")])],1),o("el-form-item",{attrs:{label:"答案"}},[o("el-input",{attrs:{placeholder:"请输入大写字母ABCD……"},model:{value:t.singleEditForm.correctAnswer,callback:function(e){t.$set(t.singleEditForm,"correctAnswer",e)},expression:"singleEditForm.correctAnswer"}})],1),o("el-form-item",{ref:"uploadElement",attrs:{prop:"file"}},[o("el-upload",{ref:"upload",attrs:{action:"#",multiple:!0,"list-type":"picture-card","auto-upload":!1,"http-request":t.UploadImg,accept:"image/png,image/gif,image/jpg,image/jpeg"}},[o("i",{staticClass:"el-icon-plus"})])],1)],2),o("span",{staticClass:"el-dialog__footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{nativeOn:{click:function(e){t.singleVisible=!1}}},[t._v("取消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.createSingleData}},[t._v("添加")])],1)],1),o("el-dialog",{attrs:{title:"多选题",visible:t.multiVisible,top:"5%"},on:{"update:visible":function(e){t.multiVisible=e}}},[o("el-form",{ref:"multiEditForm",attrs:{model:t.multiEditForm,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"题目"}},[o("el-input",{attrs:{type:"textarea"},model:{value:t.multiEditForm.title,callback:function(e){t.$set(t.multiEditForm,"title",e)},expression:"multiEditForm.title"}})],1),t._l(t.multiEditForm.choices,function(e,i){return o("el-form-item",{key:e.key,attrs:{label:"选项"+(i+1),prop:"choice."+i+".content",rules:{required:!0,message:"内容不能为空",trigger:"blur"}}},[o("el-input",{model:{value:e.content,callback:function(o){t.$set(e,"content",o)},expression:"choice.content"}}),o("el-button",{on:{click:function(o){return o.preventDefault(),t.removeChoiceMulti(e)}}},[t._v("删除")])],1)}),o("el-form-item",[o("el-button",{on:{click:t.addChoiceMulti}},[t._v("新增选项")])],1),o("el-form-item",{attrs:{label:"答案"}},[o("el-input",{attrs:{placeholder:"请输入大写字母ABCD……"},model:{value:t.multiEditForm.correctAnswer,callback:function(e){t.$set(t.multiEditForm,"correctAnswer",e)},expression:"multiEditForm.correctAnswer"}})],1),o("el-form-item",{ref:"uploadElement",attrs:{prop:"file"}},[o("el-upload",{ref:"upload",attrs:{action:"#",multiple:!0,"list-type":"picture-card","auto-upload":!1,"http-request":t.UploadImg,accept:"image/png,image/gif,image/jpg,image/jpeg"}},[o("i",{staticClass:"el-icon-plus"})])],1)],2),o("span",{staticClass:"el-dialog__footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{nativeOn:{click:function(e){t.multiVisible=!1}}},[t._v("取消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.createMultiData}},[t._v("添加")])],1)],1),o("el-dialog",{attrs:{title:"判断题",visible:t.judgeVisible,top:"5%"},on:{"update:visible":function(e){t.judgeVisible=e}}},[o("el-form",{ref:"judgeEditForm",attrs:{model:t.judgeEditForm,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"题目"}},[o("el-input",{attrs:{type:"textarea"},model:{value:t.judgeEditForm.title,callback:function(e){t.$set(t.judgeEditForm,"title",e)},expression:"judgeEditForm.title"}})],1),o("el-form-item",{attrs:{label:"答案"}},[o("el-input",{attrs:{placeholder:"请输入正确或错误"},model:{value:t.judgeEditForm.correctAnswer,callback:function(e){t.$set(t.judgeEditForm,"correctAnswer",e)},expression:"judgeEditForm.correctAnswer"}})],1),o("el-form-item",{ref:"uploadElement",attrs:{prop:"file"}},[o("el-upload",{ref:"upload",attrs:{action:"#",multiple:!0,"list-type":"picture-card","auto-upload":!1,"http-request":t.UploadImg,accept:"image/png,image/gif,image/jpg,image/jpeg"}},[o("i",{staticClass:"el-icon-plus"})])],1)],1),o("span",{staticClass:"el-dialog__footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{nativeOn:{click:function(e){t.judgeVisible=!1}}},[t._v("取消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.createJudgeData}},[t._v("添加")])],1)],1),o("el-dialog",{attrs:{title:"主观题",visible:t.subVisible,top:"5%"},on:{"update:visible":function(e){t.subVisible=e}}},[o("el-form",{ref:"subEditForm",attrs:{model:t.subEditForm,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"题目"}},[o("el-input",{attrs:{type:"textarea"},model:{value:t.subEditForm.title,callback:function(e){t.$set(t.subEditForm,"title",e)},expression:"subEditForm.title"}})],1),o("el-form-item",{ref:"uploadElement",attrs:{prop:"file"}},[o("el-upload",{ref:"upload",attrs:{action:"#",multiple:!0,"list-type":"picture-card","auto-upload":!1,"http-request":t.UploadImg,accept:"image/png,image/gif,image/jpg,image/jpeg"}},[o("i",{staticClass:"el-icon-plus"})])],1)],1),o("span",{staticClass:"el-dialog__footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{nativeOn:{click:function(e){t.subVisible=!1}}},[t._v("取消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.createSubData}},[t._v("添加")])],1)],1)],1)],1)},s=[],r={name:"TeacherCourseOneAssignment",data:function(){return{singleVisible:!1,multiVisible:!1,judgeVisible:!1,subVisible:!1,singleEditForm:{key:"",title:"",choices:[{tag:"",content:""}],correctAnswer:"",images:""},multiEditForm:{key:"",title:"",choices:[{tag:"",content:""}],correctAnswer:""},judgeEditForm:{key:"",title:"",correctAnswer:""},subEditForm:{key:"",title:""},questions:this.$store.getters.getCourseInfo.coursePrototype.questions,imageURL:"",formData:new FormData}},methods:{showAllQuestions:function(){this.$http.request({url:this.$store.getters.getCourseUrl+"info",method:"get",headers:this.$store.getters.authRequestHead}).then(function(t){console.log(t.data)}).catch(function(t){alert(t),console.log(t.response)})},showSingleDialog:function(){this.singleVisible=!0,this.singleEditForm={key:"",title:"",choices:[{tag:"",content:""}],correctAnswer:"",images:""}},showMultiDialog:function(){this.multiVisible=!0,this.multiEditForm={key:"",title:"",choices:[{tag:"",content:""}],correctAnswer:""}},showJudgeDialog:function(){this.judgeVisible=!0,this.judgeEditForm={key:"",title:"",correctAnswer:""}},showSubDialog:function(){this.subVisible=!0,this.subEditForm={key:"",title:""}},showQuestionEdit:function(t){"SINGLE_ANSWER"===t.questionType&&this.showSingleEditDialog(t)},showSingleEditDialog:function(t){this.singleVisible=!0,this.singleEditForm=Object.assign({},t)},showMultiEditDialog:function(t){this.multiVisible=!0,this.multiEditForm=Object.assign({},t)},showJudgeEditDialog:function(t){this.judgeVisible=!0,this.judgeEditForm=Object.assign({},t)},showSubEditDialog:function(t){this.subVisible=!0,this.subEditForm=Object.assign({},t)},createSingleData:function(){var t=this;t.formData=new FormData,t.$refs.upload.submit();for(var e=0,o=[],i=0;i<t.singleEditForm.choices.length;i++)o.push(t.singleEditForm.choices[i].content);this.$http.request({url:"/api/coursePrototypes/"+this.$store.getters.getCourseInfo.coursePrototype.id+"/questions/submit",method:"post",headers:{Authorization:"Bearer "+this.$store.state.user.accessToken},data:{type:"single_answer",content:this.singleEditForm.title,options:o,answer:this.singleEditForm.correctAnswer}}).then(function(o){console.log(o.data),e=o.data.id,0!==e&&t.$http.request({url:"/api/coursePrototypes/"+t.$store.getters.getCourseInfo.coursePrototype.id+"/questions/"+e,method:"post",headers:{Authorization:"Bearer "+t.$store.state.user.accessToken,"Content-Type":"multipart/form-data"},data:t.formData}).then(function(t){console.log(t.data),alert("上传题目图片成功")}).catch(function(t){console.log(t.response),alert("请求失败")})}).catch(function(t){console.log(t.response),alert("请求失败")}),this.singleVisible=!1},createMultiData:function(){var t=this;t.formData=new FormData,t.$refs.upload.submit();for(var e=0,o=[],i=0;i<t.multiEditForm.choices.length;i++)o.push(t.multiEditForm.choices[i].content);this.$http.request({url:"/api/coursePrototypes/"+this.$store.getters.getCourseInfo.coursePrototype.id+"/questions/submit",method:"post",headers:this.$store.getters.authRequestHead,data:{type:"multiple_answer",content:this.multiEditForm.title,options:o,answer:this.multiEditForm.correctAnswer}}).then(function(o){console.log(o.data),e=o.data.id,0!==e&&(console.log("上传图片中"),t.$http.request({url:"/api/coursePrototypes/"+t.$store.getters.getCourseInfo.coursePrototype.id+"/questions/"+e,method:"post",headers:{Authorization:"Bearer "+t.$store.state.user.accessToken,"Content-Type":"multipart/form-data"},data:t.formData}).then(function(t){console.log(t.data),alert("上传题目图片成功")}).catch(function(t){console.log(t.response),alert("请求失败")}))}).catch(function(t){console.log(t.response)}),this.multiVisible=!1},createJudgeData:function(){var t=this;t.formData=new FormData,t.$refs.upload.submit();var e=0;this.$http.request({url:"/api/coursePrototypes/"+this.$store.getters.getCourseInfo.coursePrototype.id+"/questions/submit",method:"post",headers:this.$store.getters.authRequestHead,data:{type:"t_or_f",content:this.judgeEditForm.title,answer:this.judgeEditForm.correctAnswer}}).then(function(o){console.log(o.data),e=o.data.id,0!==e&&(console.log("上传图片中"),t.$http.request({url:"/api/coursePrototypes/"+t.$store.getters.getCourseInfo.coursePrototype.id+"/questions/"+e,method:"post",headers:{Authorization:"Bearer "+t.$store.state.user.accessToken,"Content-Type":"multipart/form-data"},data:t.formData}).then(function(t){console.log(t.data),alert("上传题目图片成功")}).catch(function(t){console.log(t.response),alert("请求失败")}))}).catch(function(t){console.log(t.response)}),this.judgeVisible=!1},createSubData:function(){var t=this;t.formData=new FormData,t.$refs.upload.submit();var e=0;this.$http.request({url:"/api/coursePrototypes/"+this.$store.getters.getCourseInfo.coursePrototype.id+"/questions/submit",method:"post",headers:this.$store.getters.authRequestHead,data:{type:"subjective",content:this.subEditForm.title}}).then(function(o){console.log(o.data),e=o.data.id,0!==e&&(console.log("上传图片中"),t.$http.request({url:"/api/coursePrototypes/"+t.$store.getters.getCourseInfo.coursePrototype.id+"/questions/"+e,method:"post",headers:{Authorization:"Bearer "+t.$store.state.user.accessToken,"Content-Type":"multipart/form-data"},data:t.formData}).then(function(t){console.log(t.data),alert("上传题目图片成功")}).catch(function(t){console.log(t.response),alert("请求失败")}))}).catch(function(t){console.log(t.response)}),this.subVisible=!1},deleteQuestion:function(){alert("删除成功")},removeChoiceSingle:function(t){var e=this.singleEditForm.choices.indexOf(t);-1!==e&&this.singleEditForm.choices.splice(e,1)},removeChoiceMulti:function(t){var e=this.multiEditForm.choices.indexOf(t);-1!==e&&this.multiEditForm.choices.splice(e,1)},addChoiceSingle:function(){this.singleEditForm.choices.push({content:"",tag:""})},addChoiceMulti:function(){this.multiEditForm.choices.push({content:"",tag:""})},UploadImg:function(t){this.formData.append("file",t.file)},handleRemove:function(t,e){console.log(t,e)}}},l=r,n=(o("db34"),o("2877")),a=Object(n["a"])(l,i,s,!1,null,"9077d54a",null);e["default"]=a.exports},6589:function(t,e,o){},db34:function(t,e,o){"use strict";var i=o("6589"),s=o.n(i);s.a}}]);
//# sourceMappingURL=chunk-6e446994.11570a85.js.map