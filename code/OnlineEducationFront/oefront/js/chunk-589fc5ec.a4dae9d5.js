(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-589fc5ec"],{"81d9":function(t,e,l){"use strict";l.r(e);var a=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("el-header",[l("h1",{staticClass:"titlesytle"},[t._v("课程成绩管理")])]),l("el-main",[l("div",{staticClass:"float-left"},[l("el-input",{staticClass:"padding",attrs:{placeholder:"请输入用户名","prefix-icon":"el-icon-search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),l("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-preview":t.handlePreview,"on-remove":t.handleRemove,"file-list":t.fileList,"auto-upload":!1}},[l("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取文件")]),l("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v("上传")]),l("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("上传格式只能为xls或xlsx")])],1)],1),l("el-table",{staticClass:"usertable",attrs:{data:t.UserData.filter(function(e){return!t.search||e.student.username.includes(t.search)}),stripe:""}},[l("el-table-column",[l("el-table-column",{attrs:{type:"index"}}),l("el-table-column",{attrs:{prop:"student.sno",label:"学号","min-width":"35%",sortable:""}}),l("el-table-column",{attrs:{prop:"student.username",label:"学生名","min-width":"35%",sortable:""}}),l("el-table-column",{attrs:{prop:"student.university",label:"学院","min-width":"25%",sortable:""}}),l("el-table-column",{attrs:{prop:"score",label:"成绩","min-width":"25%"}}),l("el-table-column",{attrs:{prop:"student.sno",label:"操作","min-width":"40%"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{type:"button",icon:"el-icon-edit"},on:{click:function(l){return t.handleEdit(e.$index,e.row)}}},[t._v("\n                                修改\n                            ")])]}}])})],1)],1)],1),l("el-dialog",{attrs:{title:"成绩修改",visible:t.dialogFormVisible,"lock-scroll":!1,top:"5%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[l("el-form",{ref:"editForm",attrs:{model:t.editForm,"label-width":"80px"}},[l("el-form-item",[l("h3",[t._v("学生姓名")]),l("span",[t._v("\n                            "+t._s(t.editForm.username)+"\n                    ")])]),l("el-form-item",{attrs:{label:"成绩"}},[l("el-input",{attrs:{type:"number"},model:{value:t.editForm.grade,callback:function(e){t.$set(t.editForm,"grade",e)},expression:"editForm.grade"}})],1)],1),l("span",{staticClass:"el-dialog__footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{nativeOn:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取消")]),l("el-button",{attrs:{type:"primary"},on:{click:t.updateData}},[t._v("修改")])],1)],1)],1)},s=[],o={name:"TeacherScoreManage",data:function(){return{fileList:[],search:"",UserData:[],dialogFormVisible:!1,editForm:{username:"",grade:""}}},methods:{showAllStudents:function(){var t=this;this.$http.request({url:"/api/courses/"+this.$store.getters.getCourseId+"/scoreList",method:"get",headers:this.$store.getters.authRequestHead}).then(function(e){console.log(e.data),t.UserData=e.data.scoreMap,console.log(t.UserData)}).catch(function(t){console.log(t.response)})},handleAdd:function(){alert("导入成绩")},handleEdit:function(t,e){this.dialogFormVisible=!0,this.editForm=Object.assign({},e)},updateData:function(){alert("用户修改成功"),this.dialogFormVisible=!1},submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(t,e){console.log(t,e)},handlePreview:function(t){console.log(t)}},mounted:function(){this.showAllStudents()}},i=o,n=(l("bf91"),l("2877")),r=Object(n["a"])(i,a,s,!1,null,"e47fc3ba",null);e["default"]=r.exports},"9a36":function(t,e,l){},bf91:function(t,e,l){"use strict";var a=l("9a36"),s=l.n(a);s.a}}]);
//# sourceMappingURL=chunk-589fc5ec.a4dae9d5.js.map